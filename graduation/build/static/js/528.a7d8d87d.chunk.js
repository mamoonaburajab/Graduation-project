"use strict";(self.webpackChunkgraduation=self.webpackChunkgraduation||[]).push([[528],{5528:(t,e,a)=>{a.r(e),a.d(e,{default:()=>x});var n=a(9060),s=a(368),i=a(4461),c=a(4692),o=a(9104),d=a(8656),p=a(8704),r=a(8960),l=a(9780),m=a(2496);const u=t=>new Date(t).toLocaleDateString("en-US"),h=t=>new Date(t).toLocaleDateString("ar-EG",{weekday:"long"}),g=t=>{switch(t){case 0:return(0,m.jsx)(s.c,{color:"volcano",children:"\u0645\u0644\u063a\u0627\u0629"});case 1:return(0,m.jsx)(s.c,{color:"green",children:"\u0645\u0643\u062a\u0645\u0644\u0629"});default:return(0,m.jsx)(s.c,{color:"geekblue",children:"\u0642\u0627\u062f\u0645"})}},x=()=>{const[t,e]=(0,n.useState)({upcomingAppointments:[],pastAppointments:[]}),[a,s]=(0,n.useState)("upcoming"),x=localStorage.getItem("userId");(0,n.useEffect)((()=>{(async()=>{try{const t=await l.c.post("http://localhost:4504/Mother/ViewApp",{motherId:x}),a={upcomingAppointments:t.data.upcomingAppointments.map((t=>({...t,date:u(t.date),day:h(t.date),time:t.Time,status:t.status}))),pastAppointments:t.data.pastAppointments.map((t=>({...t,date:u(t.date),day:h(t.date),time:t.Time,status:t.status})))};e(a)}catch(t){console.error("Error fetching appointments:",t)}})()}),[x]);const y=[{title:"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a",key:"actions",dataIndex:"actions",render:(t,a)=>(0,m.jsx)(c.c,{size:"middle",children:(0,m.jsx)(o.cp,{type:"link",onClick:()=>(async t=>{try{await l.c.delete("http://localhost:4504/Mother/ViewApp/".concat(t)),i.cp.success("Appointment deleted successfully"),e((e=>({...e,upcomingAppointments:e.upcomingAppointments.filter((e=>e.id!==t)),pastAppointments:e.pastAppointments.filter((e=>e.id!==t))})))}catch(a){console.error("Error deleting appointment:",a),i.cp.error("Failed to delete appointment")}})(a.id),children:"\u062d\u0630\u0641"})}),fixed:"left"},{title:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0648\u0639\u062f",key:"status",dataIndex:"status",render:t=>g(t)},{title:"\u0627\u0644\u0648\u0642\u062a",dataIndex:"time",key:"time"},{title:"\u0627\u0644\u064a\u0648\u0645",dataIndex:"day",key:"day"},{title:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",dataIndex:"date",key:"date"}],A=[{title:"\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0648\u0639\u062f",key:"status",dataIndex:"status",render:t=>g(t)},{title:"\u0627\u0644\u0648\u0642\u062a",dataIndex:"time",key:"time"},{title:"\u0627\u0644\u064a\u0648\u0645",dataIndex:"day",key:"day"},{title:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e",dataIndex:"date",key:"date"}];return(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)(r.c,{}),(0,m.jsx)("div",{className:"tabs-container",children:(0,m.jsxs)(d.c,{defaultActiveKey:"upcoming",onChange:s,children:[(0,m.jsx)(d.c.TabPane,{tab:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0642\u0627\u062f\u0645\u0629",children:(0,m.jsx)(p.c,{columns:y,dataSource:t.upcomingAppointments,scroll:{x:1e3},rowKey:"id",loading:!t.upcomingAppointments.length})},"upcoming"),(0,m.jsx)(d.c.TabPane,{tab:"\u0627\u0644\u0645\u0648\u0627\u0639\u064a\u062f \u0627\u0644\u0633\u0627\u0628\u0642\u0629",className:"",children:(0,m.jsx)(p.c,{columns:A,dataSource:t.pastAppointments,scroll:{x:1e3},rowKey:"id",loading:!t.pastAppointments.length})},"past")]})}),(0,m.jsx)("div",{className:"table-container"})]})}}}]);
//# sourceMappingURL=528.a7d8d87d.chunk.js.map