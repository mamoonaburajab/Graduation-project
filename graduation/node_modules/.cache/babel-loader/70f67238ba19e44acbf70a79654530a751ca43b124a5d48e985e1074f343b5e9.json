{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./AppointmentDoc.css';// Import CSS file for styling\nimport AppointmentRow from'../AppointmentRow/AppointmentRow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AppointmentDoc=()=>{const[todaysAppointments,setTodaysAppointments]=useState([]);useEffect(()=>{const fetchAppointments=async()=>{try{const response=await fetch(\"http://localhost:3121/api/administrative_manager/AppointmentManager\");if(!response.ok){throw new Error(\"Failed to fetch appointments\");}const data=await response.json();console.log(\"Fetched appointments:\",data);// Log the fetched data\nconst today=new Date().toISOString().slice(0,10);// Get today's date in YYYY-MM-DD format\nconst filteredAppointments=data.filter(appointment=>appointment.date===today).slice(0,3);// Get first 3 appointments for today\nconsole.log(\"Filtered today's appointments:\",filteredAppointments);// Log the filtered appointments\nsetTodaysAppointments(filteredAppointments);}catch(error){console.error(\"Error fetching appointments:\",error);}};fetchAppointments();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"AppointmentDoc\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0627\\u0644\\u0645\\u0648\\u0627\\u0639\\u064A\\u062F \\u0627\\u0644\\u0642\\u0627\\u062F\\u0645\\u0629\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"appointments-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0627\\u0644\\u0627\\u0633\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0627\\u0644\\u0639\\u0645\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0648\\u0642\\u062A \\u0627\\u0644\\u0645\\u0648\\u0639\\u062F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:todaysAppointments.length>0?todaysAppointments.map((appointment,index)=>/*#__PURE__*/_jsx(AppointmentRow,{name:appointment.mother_name,ageInMonths:appointment.ageInMonths,appointmentTime:appointment.Time},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0648\\u0627\\u0639\\u064A\\u062F \\u0644\\u0644\\u064A\\u0648\\u0645\"})})})]})]});};export default AppointmentDoc;","map":{"version":3,"names":["React","useEffect","useState","AppointmentRow","jsx","_jsx","jsxs","_jsxs","AppointmentDoc","todaysAppointments","setTodaysAppointments","fetchAppointments","response","fetch","ok","Error","data","json","console","log","today","Date","toISOString","slice","filteredAppointments","filter","appointment","date","error","className","children","length","map","index","name","mother_name","ageInMonths","appointmentTime","Time","colSpan"],"sources":["/home/mamoon/graduation folder/graduation/src/component/AppointmentDoc/AppointmentDoc.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './AppointmentDoc.css'; // Import CSS file for styling\nimport AppointmentRow from '../AppointmentRow/AppointmentRow';\n\nconst AppointmentDoc = () => {\n  const [todaysAppointments, setTodaysAppointments] = useState([]);\n\n  useEffect(() => {\n    const fetchAppointments = async () => {\n      try {\n        const response = await fetch(\"http://localhost:3121/api/administrative_manager/AppointmentManager\");\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch appointments\");\n        }\n        const data = await response.json();\n        console.log(\"Fetched appointments:\", data); // Log the fetched data\n\n        const today = new Date().toISOString().slice(0, 10); // Get today's date in YYYY-MM-DD format\n        const filteredAppointments = data.filter(\n          appointment => appointment.date === today\n        ).slice(0, 3); // Get first 3 appointments for today\n\n        console.log(\"Filtered today's appointments:\", filteredAppointments); // Log the filtered appointments\n\n        setTodaysAppointments(filteredAppointments);\n      } catch (error) {\n        console.error(\"Error fetching appointments:\", error);\n      }\n    };\n\n    fetchAppointments();\n  }, []);\n\n  return (\n    <div className='AppointmentDoc'>\n      <h1>المواعيد القادمة</h1>\n      <table className=\"appointments-table\">\n        <thead>\n          <tr>\n            <th>الاسم</th>\n            <th>العمر</th>\n            <th>وقت الموعد</th>\n          </tr>\n        </thead>\n        <tbody>\n          {todaysAppointments.length > 0 ? (\n            todaysAppointments.map((appointment, index) => (\n              <AppointmentRow\n                key={index}\n                name={appointment.mother_name}\n                ageInMonths={appointment.ageInMonths}\n                appointmentTime={appointment.Time}\n              />\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"3\">لا توجد مواعيد لليوم</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AppointmentDoc;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,sBAAsB,CAAE;AAC/B,MAAO,CAAAC,cAAc,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9D,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAEhED,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,qEAAqE,CAAC,CACnG,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CACjD,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAEH,IAAI,CAAC,CAAE;AAE5C,KAAM,CAAAI,KAAK,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAAE;AACrD,KAAM,CAAAC,oBAAoB,CAAGR,IAAI,CAACS,MAAM,CACtCC,WAAW,EAAIA,WAAW,CAACC,IAAI,GAAKP,KACtC,CAAC,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE;AAEfL,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAEK,oBAAoB,CAAC,CAAE;AAErEd,qBAAqB,CAACc,oBAAoB,CAAC,CAC7C,CAAE,MAAOI,KAAK,CAAE,CACdV,OAAO,CAACU,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAEDjB,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEJ,KAAA,QAAKsB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7BzB,IAAA,OAAAyB,QAAA,CAAI,6FAAgB,CAAI,CAAC,cACzBvB,KAAA,UAAOsB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACnCzB,IAAA,UAAAyB,QAAA,cACEvB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,gCAAK,CAAI,CAAC,cACdzB,IAAA,OAAAyB,QAAA,CAAI,gCAAK,CAAI,CAAC,cACdzB,IAAA,OAAAyB,QAAA,CAAI,yDAAU,CAAI,CAAC,EACjB,CAAC,CACA,CAAC,cACRzB,IAAA,UAAAyB,QAAA,CACGrB,kBAAkB,CAACsB,MAAM,CAAG,CAAC,CAC5BtB,kBAAkB,CAACuB,GAAG,CAAC,CAACN,WAAW,CAAEO,KAAK,gBACxC5B,IAAA,CAACF,cAAc,EAEb+B,IAAI,CAAER,WAAW,CAACS,WAAY,CAC9BC,WAAW,CAAEV,WAAW,CAACU,WAAY,CACrCC,eAAe,CAAEX,WAAW,CAACY,IAAK,EAH7BL,KAIN,CACF,CAAC,cAEF5B,IAAA,OAAAyB,QAAA,cACEzB,IAAA,OAAIkC,OAAO,CAAC,GAAG,CAAAT,QAAA,CAAC,2GAAoB,CAAI,CAAC,CACvC,CACL,CACI,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}