{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./Addmanager.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AddManager=()=>{const[managers,setManagers]=useState([]);const[view,setView]=useState(\"form\");useEffect(()=>{fetchManagers();},[]);const fetchManagers=()=>{fetch(\"http://localhost:3121/administrative_manager/home\").then(response=>response.json()).then(data=>setManagers(data)).catch(error=>{console.error(\"Error fetching managers:\",error);alert(\"Failed to fetch managers.\");});};const handleSubmit=event=>{event.preventDefault();const formData=new FormData(event.target);const managerData={ID:formData.get(\"ID\"),first_name:formData.get(\"first_name\"),last_name:formData.get(\"last_name\"),phone_No:formData.get(\"phone_No\")};fetch(\"http://localhost:3121/administrative_manager/home\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(managerData)}).then(response=>response.json()).then(newManager=>{alert(\"Manager added successfully\");setManagers([...managers,newManager]);}).catch(error=>{console.error(\"Error:\",error);alert(\"Failed to add manager.\");});event.target.reset();// Reset the form fields after submission\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"add-manager-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062F\\u0631\\u0627\\u0621\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"form\"),children:\"\\u0627\\u0636\\u0627\\u0641\\u0629 \\u0645\\u062F\\u064A\\u0631 \\u0627\\u062F\\u0627\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"list\"),children:\"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0645\\u062F\\u0631\\u0627\\u0621\"})]}),view===\"form\"&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"first_name\",className:\"form-input\",type:\"text\",placeholder:\"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0623\\u0648\\u0644\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"last_name\",className:\"form-input\",type:\"text\",placeholder:\"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0623\\u062E\\u064A\\u0631\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"ID\",className:\"form-input\",type:\"text\",placeholder:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0648\\u064A\\u0629\",required:true}),/*#__PURE__*/_jsx(\"input\",{name:\"phone_No\",className:\"form-input\",type:\"text\",placeholder:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",type:\"submit\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]}),view===\"list\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"managers-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0645\\u062F\\u0631\\u0627\\u0621\"}),managers.map((manager,index)=>/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[manager.first_name,\" \",manager.last_name,\" - \",manager.phone_No]})},index))]})]});};export default AddManager;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","AddManager","managers","setManagers","view","setView","fetchManagers","fetch","then","response","json","data","catch","error","console","alert","handleSubmit","event","preventDefault","formData","FormData","target","managerData","ID","get","first_name","last_name","phone_No","method","headers","body","JSON","stringify","newManager","reset","className","children","onClick","onSubmit","name","type","placeholder","required","map","manager","index"],"sources":["/home/mamoon/graduation folder/graduation/src/component/AddManager/AddManager.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./Addmanager.css\";\n\nconst AddManager = () => {\n  const [managers, setManagers] = useState([]);\n  const [view, setView] = useState(\"form\");\n\n  useEffect(() => {\n    fetchManagers();\n  }, []);\n\n  const fetchManagers = () => {\n    fetch(\"http://localhost:3121/administrative_manager/home\")\n      .then((response) => response.json())\n      .then((data) => setManagers(data))\n      .catch((error) => {\n        console.error(\"Error fetching managers:\", error);\n        alert(\"Failed to fetch managers.\");\n      });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n    const managerData = {\n      ID: formData.get(\"ID\"),\n      first_name: formData.get(\"first_name\"),\n      last_name: formData.get(\"last_name\"),\n      phone_No: formData.get(\"phone_No\"),\n    };\n\n    fetch(\"http://localhost:3121/administrative_manager/home\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(managerData),\n    })\n      .then((response) => response.json())\n      .then((newManager) => {\n        alert(\"Manager added successfully\");\n        setManagers([...managers, newManager]);\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        alert(\"Failed to add manager.\");\n      });\n\n    event.target.reset(); // Reset the form fields after submission\n  };\n\n  return (\n    <div className=\"add-manager-container\">\n      <h2>إدارة المدراء</h2>\n      <div className=\"buttons-container\">\n        <button onClick={() => setView(\"form\")}>اضافة مدير اداري</button>\n        <button onClick={() => setView(\"list\")}>قائمة المدراء</button>\n      </div>\n      {view === \"form\" && (\n        <form onSubmit={handleSubmit}>\n          <input\n            name=\"first_name\"\n            className=\"form-input\"\n            type=\"text\"\n            placeholder=\"الاسم الأول\"\n            required\n          />\n          <input\n            name=\"last_name\"\n            className=\"form-input\"\n            type=\"text\"\n            placeholder=\"الاسم الأخير\"\n            required\n          />\n          <input\n            name=\"ID\"\n            className=\"form-input\"\n            type=\"text\"\n            placeholder=\"رقم الهوية\"\n            required\n          />\n          <input\n            name=\"phone_No\"\n            className=\"form-input\"\n            type=\"text\"\n            placeholder=\"رقم الهاتف\"\n            required\n          />\n          <button className=\"submit-button\" type=\"submit\">\n            إضافة\n          </button>\n        </form>\n      )}\n      {view === \"list\" && (\n        <div className=\"managers-list\">\n          <h3>قائمة المدراء</h3>\n          {managers.map((manager, index) => (\n            <div key={index}>\n              <p>\n                {manager.first_name} {manager.last_name} - {manager.phone_No}\n              </p>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddManager;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}